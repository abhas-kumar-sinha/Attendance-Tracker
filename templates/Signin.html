<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Sign in to Semester Management Web to access your account, track attendance, and manage semester activities seamlessly.">
    <meta name="keywords" content="Semester Management Web sign-in, login, attendance tracker, academic management portal, student portal">
    <meta name="author" content="Abhas Kumar Sinha">
    <meta name="robots" content="index, nofollow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="application-name" content="Semester Management Web">
    <meta name="theme-color" content="#ffffff">
    <meta name="description" content="Securely log in to Semester Management Web to manage attendance and academic details for all your courses.">
    <meta name="description" content="Access your attendance records and semester details with the Semester Management Web sign-in portal.">
    <meta name="google-site-verification" content="ugixsSdls_xXtq2-enrY0O-SYxFlzbJbybEN4ShYNLQ" />
    <title>Login/Sign Up</title>
    <link rel="stylesheet" href="{{url_for('static', filename='css/L_S_style.css')}}">
    <link rel="shortcut icon" href="{{url_for('static', filename='logo/logo.png')}}" type="image/x-icon">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
</head>
<body>
    <div id="main">
        <div class="box">
            <div class="form-top">
                <div class="logo"></div>
                <div class="top-para">
                    <h4>Welcome Back</h4>
                </div>
            </div>
            <div class="form">
                <form action="/Sign-In" method="POST">
                    <legend class="signin-legend">Please enter your details to sign in.</legend>
                    <fieldset class="short-signin">
                        <a href="{{ url_for('google_login', action = 'signin') }}" class="Google button" type="button"><i class='bx bxl-google'></i></a>
                        <a href="{{ url_for('github_login', action = 'signin') }}" class="GitHub button" type="button"><i class='bx bxl-github'></i></a>
                        <a href="{{ url_for('twitter_login', action = 'signin') }}" class="LinkedIn button mk-sm" type="button"><i class="fa-brands fa-x-twitter"></i></a>
                    </fieldset>

                    <div class="partition">
                        <div class="line left-side"></div>
                        <span>or</span>
                        <div class="line right-side"></div>
                    </div>

                    <fieldset class="normal-signin">
                        <label for="signin-i'd">User I'd</label>
                        <input type="text" class="form-input" name="signin-i'd" required placeholder="Enter your User I'd...">
                        <label for="signin-password">Password</label>
                        <div class="form-input-password-div" id="hidden">
                            <input type="password" class="form-password" name="signin-password" required placeholder="••••••••">
                            <div class="show-hide-password"><i class='bx bx-hide' ></i></div>
                        </div>
                        <div class="form-features">
                            <div class="features-1">
                                <label for="remember-me">Remember me</label>
                                <input type="checkbox" id="remember-me">
                            </div>
                            <a class="features-1" href="#">Forgot Password</a>
                        </div>
                        <button type="submit" class="sign-btn">Sign In</button>
                    </fieldset>
                </form>
                <div class="redirect-signup">
                    <span>Don't have an account yet?</span>
                    <a href="Sign-Up">Sign Up</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        function createToastNode(category, message) {
            const div = document.createElement('div');
            div.style.display = 'flex';
            div.style.alignItems = 'center';
            div.style.gap = '10px'; // Add spacing between icon and text

            if (category === "success") {
                div.innerHTML = `<i style="font-size: 2vw" class='bx bxs-check-circle'></i> ${message}`;
            }
            else{
                div.innerHTML = `<i style="font-size: 2vw" class='bx bxs-error-circle'></i> ${message}`;
            }
            return div;
        }
        // Extract flashed messages from Flask
        const messages = JSON.parse('{{ get_flashed_messages(with_categories=true) | tojson | safe }}');
    
        // Display each message as a toast
        messages.forEach(([category, message]) => {
            Toastify({
                node: createToastNode(category, message),
                duration: 5000, // Auto-close after 5 seconds
                close: true, // Show close button
                gravity: "top", // Top position
                position: "right", // Right position
                stopOnFocus: true, // Pause when focused
                style: {
                    background: category == "success"? "#07BC0C" : "#E74C3C", // Gradient background
                    color: "white",
                    fontWeight: "400",
                    fontSize: "1.4vw",
                    borderRadius: "4px",
                    padding: "1vw",
                    minHeight: "4.5vw",
                    minWidth: "22.5vw",
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "space-between",
                },
                onClick: function () {
                    console.log("Toast clicked!"); // Custom on-click behavior
                },
            }).showToast();
        });
    </script>

    <script src="{{url_for('static', filename='js/L_S_script.js')}}"></script>
</body>
</html>